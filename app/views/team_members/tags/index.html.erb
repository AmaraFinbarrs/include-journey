<%= render 'layouts/searchable', class_list: 'team-members tags', header: 'All Tags', index: 'tags',
           stats: render('stats') do %>
  <div class="container p-0">
    <div class="row mb-3">
      <div class="col">
        <div class="input-group date-sort-select">
          <select class="form-select">
            <option value="desc">Created At (Descending)</option>
            <option value="asc">Created At (Ascending)</option>
          </select>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="table-container">
          <table class="table table-dark table-striped link-table">
            <thead>
            <th scope="col">Tag</th>
            <th scope="col">Created By</th>
            <th scope="col">Created At</th>
            <th scope="col">Users Tagged</th>
            </thead>
            <tbody>
            <% @resources.each do |tag| %>
              <tr>
                <td>
                  <%= link_to "#{tag.tag}", tag_tagged_users_path(tag) %>
                </td>
                <td>
                  <%= link_to "#{tag.team_member.full_name}", tag_tagged_users_path(tag) %>
                </td>
                <td>
                  <%= link_to "#{tag.created}", tag_tagged_users_path(tag) %>
                </td>
                <td>
                  <%= link_to "#{tag.user_tags.count}", tag_tagged_users_path(tag) %>
                </td>
              </tr>
            <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
<% end %>

<%= javascript_pack_tag 'date_sort' %>
