<main class="container dashboard team_member">
  <section class="row">
    <div class="col">
      <h3>Team Member Details</h3>
      <table class="table table-dark table-striped">
        <thead>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Email</th>
          <th scope="col">Mobile No.</th>
          <th scope="col">Admin</th>
          <th scope="col">Created At</th>
          <th scope="col">Last Update</th>
        </thead>
        <tbody>
          <tr>
            <td><%= @team_member.first_name %></td>
            <td><%= @team_member.last_name %></td>
            <td><%= @team_member.email %></td>
            <td>0<%= @team_member.mobile_number %></td>
            <td>
              <% if @team_member.admin %>
                <i class="fas fa-check-circle"></i>
              <% else %>
                <i class="fas fa-times-circle"></i>
              <% end %>
            </td>
            <td><%= @team_member.get_created_at %></td>
            <td><%= @team_member.last_update %></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
  <section class="row">
    <div class="col">
      <h3>Team Member Sign In</h3>
      <table class="table table-dark table-striped">
        <thead>
          <th scope="col">Sign In Count</th>
          <th scope="col">Current Sign In</th>
          <th scope="col">Current Sign In IP</th>
          <th scope="col">Last Sign In</th>
          <th scope="col">Last Sign In IP</th>
        </thead>
        <tbody>
          <tr>
            <td><%= @team_member.sign_in_count %></td>
            <td><%= @team_member.get_current_sign_in %></td>
            <td><%= @team_member.current_sign_in_ip %></td>
            <td><%= @team_member.get_last_sign_in %></td>
            <td><%= @team_member.last_sign_in_ip %></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
  <% if @team_member.wba_team_members.count > 0 %>
    <section class="row">
      <div class="col">
        <h3>wellbeing assessments</h3>
        <table class="table table-dark table-striped">
          <thead>
            <th scope="col">User</th>
            <th scope="col">Created At</th>
            <th scope="col">Last Update</th>
          </thead>
          <tbody>
            <% @team_member.wba_team_members.order(:created_at).each do |wba_team_member| %>
              <tr>
                <td><%= wba_team_member.user.first_name %> <%= wba_team_member.user.last_name %></td>
                <td><%= wba_team_member.get_created_at %>
                <td><%= wba_team_member.last_update %>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </section>
  <% end %>
  <% if @team_member.wba_self_view_logs.count > 0 %>
    <section class="row">
      <div class="col">
        <h3>wellbeing assessment view logs</h3>
        <table class="table table-dark table-striped">
          <thead>
          <th scope="col">User</th>
          <th scope="col">Created At</th>
          <th scope="col">Last Update</th>
          </thead>
          <tbody>
          <% @team_member.wba_self_view_logs.order(:created_at).each do |wba_self_view_log| %>
            <tr>
              <td><%= wba_self_view_log.wba_self.user.first_name %> <%= wba_self_view_log.wba_self.user.last_name %></td>
              <td><%= wba_self_view_log.get_created_at %>
              <td><%= wba_self_view_log.last_update %>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </section>
  <% end %>
</main>