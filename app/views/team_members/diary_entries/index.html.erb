<%= render 'layouts/searchable', class_list: 'team-members diary-entry', header: 'Journal Entries',
           index: 'diary_entries', search: render(partial: 'shared/diary_entries/search'),
           stats: render(partial: 'stats') do %>
  <div class="table-container">
    <table class="table table-dark table-striped link-table">
      <thead>
      <th scope="col">User</th>
      <th scope="col">Feeling</th>
      <th scope="col">Viewed</th>
      <th scope="col">Created At</th>
      </thead>
      <tbody>
      <% @resources.each do |diary_entry| %>
        <tr>
          <td>
            <%= link_to "#{diary_entry.user.full_name}", diary_entry_path(diary_entry) %>
          </td>
          <td>
            <%= link_to "#{diary_entry.feeling}", diary_entry_path(diary_entry), class: 'feeling' %>
          </td>
          <td>
            <%= link_to diary_entry_path(diary_entry) do %>
              <% if diary_entry.diary_entry_view_logs.empty? %>
                <i class="fas fa-times-circle"></i>
              <% else %>
                <i class="fas fa-check-circle"></i>
              <% end %>
            <% end %>
          </td>
          <td>
            <%= link_to "#{diary_entry.created}", diary_entry_path(diary_entry) %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
<% end %>
