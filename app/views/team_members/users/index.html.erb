<main class="container team-members users index">
  <section class="row">
    <div class="col">
      <h3>Users Info</h3>
      <div class="container p-0">
        <div class="row mb-3">
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="input-group">
              <span class="input-group-text" id="total-users">Total Users</span>
              <input type="text" class="form-control" aria-label="Total Users" aria-describedby="total-users"
              value="<%= @user_count %>" disabled>
              <span class="input-group-text"><i class="fas fa-users"></i></span>
            </div>
          </div>
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="input-group">
              <span class="input-group-text" id="active-users">Active Users</span>
              <input type="text" class="form-control" aria-label="Active Users" aria-describedby="active-users"
              value="<%= @active_users %>" disabled>
              <span class="input-group-text"><i class="fas fa-users"></i></span>
            </div>
          </div>
          <%= render 'shared/search/search' %>
        </div>
      </div>
    </div>
  </section>
  <% unless @query.present? %>
    <section class="row">
      <div class="col">
        <h3>Pinned Users</h3>
        <div class="container p-0">
          <div class="row">
            <% @pinned_users.each_with_index do |user, index| %>
              <%= render 'card', user: user, pinned: true, first: index == 0, last: index == @pinned_users.count - 1 %>
            <% end %>
          </div>
        </div>
      </div>
    </section>
  <% end %>
  <section class="row" id="users">
    <div class="col">
      <h3><%= @query.present? ? '' : 'All' %> users</h3>
      <%= render 'shared/search/search_results' %>
      <div class="container p-0">
        <div class="row justify-content-end mb-3">
          <%= render 'shared/search/limit' %>
        </div>
        <div class="row">
          <% @resources.each do |user| %>
            <%= render 'card', user: user, pinned: false %>
          <% end %>
        </div>
      </div>
    </div>
      <%= render 'shared/search/pagination_controls', index: 'users' %>
  </section>
</main>

<%= javascript_pack_tag 'wellbeing_assessment_chart' %>
