<div class="col-12 <%= local_assigns[:hide_sliders].present? ? '' : 'col-xl-6' %> chart">
  <% if local_assigns[:chart_heading].present? %>
    <h3><%= local_assigns[:chart_heading] %></h3>
  <% end %>
  <% if local_assigns[:pyramid_view].present? && local_assigns[:pyramid_view] == true %>
    <div id="flip-switch" class="form-check form-switch">
      <input class="form-check-input" type="checkbox" id="pyramid-view-switch">
      <label class="form-check-label" for="pyramid-view-switch">View Pyramid</label>
    </div>
    <div id="pyramid-view">
      <div class="inner">
        <div class="front">
          <canvas class="wellbeing-chart" width="400"
                  height="<%= local_assigns[:height].present? ? local_assigns[:height] : '400' %>">
          </canvas>
        </div>
        <div class="back">
          <%= render 'shared/pyramid', wba_scores: local_assigns[:wellbeing_assessment].wba_scores.includes(:wellbeing_metric) %>
        </div>
      </div>
    </div>
    <%= javascript_pack_tag 'pyramid_view' %>
  <% else %>
    <canvas class="wellbeing-chart" width="400"
            height="<%= local_assigns[:height].present? ? local_assigns[:height] : '400' %>">
    </canvas>
  <% end %>
</div>
