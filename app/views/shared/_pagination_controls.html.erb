<section class="row pagination-controls">
  <div class="container">
    <div class="row">
      <div class="col">
        <% unless @page == 1 %>
          <%= link_to 'Previous', send("#{index}_path", page: @page - 1, limit: params[:limit], query: params[:query]),
                      class: 'btn btn-primary' %>
        <% end %>
      </div>
      <div class="col">
        <% unless @page == 1 %>
          <%= link_to '1', send("#{index}_path", page: 1, limit: params[:limit], query: params[:query]) %>
        <% end %>

        <% unless @page - 1 <= 1 %>
          <% unless @page - 1 == 2 %> ... <% end %>
          <%= link_to @page - 1, send("#{index}_path", page: @page - 1, limit: params[:limit], query: params[:query]) %>
        <% end %>

        <strong><%= @page %></strong>

        <% unless  @page == @last_page %>
          <% unless (@page + 1) == @last_page %>
            <%= link_to @page + 1, send("#{index}_path", page: @page + 1, limit: params[:limit], query: params[:query]) %>
            <% unless @page + 1 == @last_page - 1 %> ... <% end %>
          <% end %>

          <%= link_to @last_page, send("#{index}_path", page: @last_page, limit: params[:limit], query: params[:query]) %>
        <% end %>
      </div>
      <div class="col">
        <% unless @page == @last_page %>
          <%= link_to 'Next', send("#{index}_path", page: @page + 1, limit: params[:limit], query: params[:query]),
                      class: 'btn btn-primary' %>
        <% end %>
      </div>
    </div>
  </div>
</section>
