<main class="container user journey index">
  <section class="row stats">
    <h3>My Journey</h3>
    <div class="col-auto2 col-md-4">
      <div class="counter">
        <div data-count="<%= @sessions_streak %>"></div>
        <div>Current Active Streak</div>
      </div>
    </div>
    <div class="col-auto2 col-md-4">
      <div class="counter">
        <div data-count="<%= @sessions_count %>"></div>
        <div>Total Active Days</div>
      </div>
    </div>
    <div class="col-auto2 col-md-4">
      <div class="counter">
        <div data-count="<%= @achievements_count %>"></div>
        <div>Achievements Earned</div>
      </div>
    </div>
  </section>
  <section class="row">
    <h3>My Achievements</h3>
    <div class="col-auto2 mb-3">
      <ul class="nav nav-tabs justify-content-end">
        <li class="nav-item">
          <button class="nav-link" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button" role="tab"
                  aria-controls="all" aria-selected="true">All</button>
        </li>
        <li class="nav-item">
          <button class="nav-link active" id="month-tab" data-bs-toggle="tab" data-bs-target="#month" type="button"
                  role="tab" aria-controls="all" aria-selected="true">Month</button>
        </li>
      </ul>
    </div>
    <div class="col-auto2 tab-content">
      <div class="tab-pane fade" id="all" role="tabpanel" aria-labelledby="all-tab">

      </div>
      <div class="tab-pane fade show active" id="month" role="tabpanel" aria-labelledby="month-tab">
        <div class="container">
          <% @available_monthly_achievements.each do |achievement| %>
            <div class="row">
              <h4><%= achievement.name %></h4>
              <p><%= achievement.description %></p>
            </div>
            <div class="row">
              <div class="progress col">
                <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar"
                     style="width: 100%"
                     aria-valuenow="<%= achievement.bronze_count %>"
                     aria-valuemin="0"
                     aria-valuemax="<%= achievement.bronze_count %>">
                </div>
                <div class="text-overlay">
                  <%= achievement.bronze_count %>
                </div>
              </div>
              <div class="medal col-auto achieved">
                <i class="fas fa-medal bronze"></i>
              </div>
              <div class="progress col">
                <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar"
                     style="width: 100%"
                     aria-valuenow="<%= achievement.silver_count %>"
                     aria-valuemin="0"
                     aria-valuemax="<%= achievement.silver_count %>">
                </div>
                <div class="text-overlay">
                  <%= achievement.silver_count %>
                </div>
              </div>
              <div class="medal col-auto achieved">
                <i class="fas fa-medal silver"></i>
              </div>
              <div class="progress col">
                <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar"
                     style="width: 0%"
                     aria-valuenow="<%= achievement.gold_count %>"
                     aria-valuemin="0"
                     aria-valuemax="<%= achievement.gold_count %>">
                </div>
                <div class="text-overlay">
                  <%= achievement.gold_count %>
                </div>
              </div>
              <div class="medal col-auto">
                <i class="fas fa-medal gold"></i>
              </div>
            </div>
            <hr>
          <% end %>
        </div>
      </div>
    </div>
  </section>
</main>
<%= javascript_pack_tag 'journey' %>