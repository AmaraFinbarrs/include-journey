<main class="container user journey index">
  <section class="row stats">
    <h3>My Journey</h3>
    <div class="col-4">
      <div class="counter">
        <div data-count="<%= @sessions_streak %>"></div>
        <div>Current Active Streak</div>
      </div>
    </div>
    <div class="col-4">
      <div class="counter">
        <div data-count="<%= @sessions_count %>"></div>
        <div>Total Active Days</div>
      </div>
    </div>
    <div class="col-4">
      <div class="counter">
        <div data-count="<%= @achievements_count %>"></div>
        <div>Achievements Earned</div>
      </div>
    </div>
  </section>
  <section class="row achievements">
    <h3>My Achievements</h3>
    <div class="col-12 mb-3">
      <ul class="nav nav-tabs justify-content-end">
        <li class="nav-item">
          <button class="nav-link" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button" role="tab"
                  aria-controls="all" aria-selected="true">All</button>
        </li>
        <li class="nav-item">
          <button class="nav-link active" id="month-tab" data-bs-toggle="tab" data-bs-target="#month" type="button"
                  role="tab" aria-controls="all" aria-selected="true">Month</button>
        </li>
      </ul>
    </div>
    <div class="col-12 tab-content">
      <div class="tab-pane fade" id="all" role="tabpanel" aria-labelledby="all-tab">
        <%= render 'achievements', achievements: @all_time_achievements, monthly: false %>
      </div>
      <div class="tab-pane fade show active" id="month" role="tabpanel" aria-labelledby="month-tab">
        <%= render 'achievements', achievements: @available_monthly_achievements, monthly: true %>
      </div>
    </div>
  </section>
</main>

<%= javascript_pack_tag 'journey' %>
