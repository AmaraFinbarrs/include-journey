<main class="container user goals-archive index">
  <%= render 'shared/back_btn', index: 'goals_archive_index'%>
  <%= render 'shared/wrapped_search' %>
  <section class="row">
    <h3>Archived Goals</h3>
    <%= render 'shared/search_results' %>
    <div class="col">
      <div class="table-container">
        <table class="table table-dark table-striped">
          <thead>
            <th scope="col">Type</th>
            <th scope="col">Length</th>
            <th scope="col">Goal</th>
            <th scope="col">Created On</th>
            <th scope="col">Achieved On</th>
            <th scope="col"></th>
          </thead>
          <tbody>
            <% @resources.each do |goal| %>
              <tr>
                <td><%= goal.goal_type.emoji %></td>
                <td><%= goal.short_term ? 'Short' : 'Long' %></td>
                <td><%= goal.goal %></td>
                <td><%= goal.created %></td>
                <td><%= goal.achieved %></td>
                <td><%= render 'users/goals/control', goal: goal %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <%= render 'shared/pagination_controls', index: 'goals_archive_index' %>
  </section>
</main>

<%= render 'users/goals/goal_modal' %>

<%= javascript_pack_tag 'goals_modal' %>
