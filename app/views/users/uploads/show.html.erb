<main class="uploads my-3">
  <div class="container p-0">
    <div class="row">
      <div class="col">
        <h2 class="text-center mb-5 text-white" ><i class="fas fa-upload"></i> View Upload</h2>
        <div class="row">
          <div class="col-12 col-md-6">
            <div class="show-file-wrapper">
                <div class="img">
                  <% if @upload.grab_upload_file == 'render default pdf image'%>
                      <%= image_tag asset_pack_path('media/images/pdf-image.png')%>       
                  <% else %>
                      <%= @upload.grab_upload_file %>   
                  <% end%> 
                </div>
            </div>
            <div class="editable-area">
                <div class="form-floating my-2">
                    <div id="name" class="form-control"><%= @upload_file.name%></div>
                    <label for="name">Name:</label>
                </div>    
                <div class="form-floating mb-2">
                    <div id="comment" class="form-control textarea", onclick="this.style.height = ''; this.style.height = this.scrollHeight + 'px';" ><%= @upload.comment%></div>
                    <label for="comment">Comment:</label>
                </div> 
            </div>
          </div>
          <div class="col-12 col-md-6">
            <div class="form-floating">
                <div id="size" class="form-control"><%= @upload.size%></div>
                <label for="size">Size:</label>
            </div> 
            <div class="form-floating my-2">
                <div id="type" class="form-control"><%= @upload_file.file_content_type%></div>
                <label for="type">Type:</label>
            </div> 
            <div class="form-floating my-2">
                <div id="created-at" class="form-control"><%= @upload.created%></div>
                <label for="created-at">Created At:</label>
            </div> 
            <% if @upload.been_updated?%>
              <div class="form-floating my-2">
                  <div id="date-modified" class="form-control"><%= @upload.last_update%></div>
                  <label for="date-modified">Date Modified:</label>
              </div> 
            <% end %>
            <div class="form-floating my-2">
                <div id="added-by" class="form-control"><%= @upload.added_by%></div>
                <label for="added-by">Added By:</label>
            </div>    
            <div class="form-floating my-2">
                <div id="approved-by" class="form-control"><%=@upload.approved_by || 'Nil'%></div>
                <label for="approved-by">Approved By:</label>
            </div> 
            <div class="form-floating my-2">
                <div id="approved-at" class="form-control"><%=@upload.approved_at || Time.now %></div>
                <label for="approved-at">Approved At:</label>
            </div>

            <div class="show-button-div"> 
              <div class="mb-1 button-flex-container">
                <div class="button-flex-item">
                    <%= link_to '#', class: 'btn btn-success w-100 mb-1' do %>
                    <i class="fas fa-edit"></i> Approve
                    <% end %>
                </div>
                <div class="button-flex-item">
                      <%= link_to '#', class: 'btn btn-danger w-100 mb-1' do %>
                      <i class="fas fa-edit"></i> Reject
                      <% end %>
                </div>
              </div>
              <div class="mb-1 button-flex-container">
                <div class="button-flex-item">
                    <%= link_to '#', class: 'btn btn-secondary w-100 mb-1' do %>
                    <i class="fas fa-edit"></i> Update
                    <% end %>
                </div>
                <div class="button-flex-item">
                    <%= link_to '#', class: 'btn btn-danger w-100 mb-1' do %>
                    <i class="fas fa-trash"></i> Delete
                    <% end %>
                </div>
              </div>
              <div class="mb-1">
                  <%= link_to download_file_upload_path(@upload), target: '_blank', class: 'btn btn-primary w-100 mb-1' do %>
                  <i class="fas fa-download"></i> Download
                  <% end %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
