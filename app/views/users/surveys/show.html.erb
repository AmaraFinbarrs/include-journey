<main class="container user surveys show">
  <section class="row">
    <div class="col">
      <h3><%= @survey.name %></h3>
      <% @survey_sections.each do |section| %>
        <% if section.heading.present? %>
          <h4><%= section.heading %></h4>
        <% end %>

        <% unless section.survey_questions.count.zero? %>
          <table class="table table-dark table-striped">
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col">Strongly Disagree</th>
                <th scope="col">Disagree</th>
                <th scope="col">Neither Agree<br/>Or Disagree</th>
                <th scope="col">Agree</th>
                <th scope="col">Strongly Agree</th>
                <th scope="col">Not Applicable</th>
              </tr>
            </thead>
            <tbody>
            <% section.survey_questions.includes(:survey_answers).each do |question| %>
              <tr>
                <td><%= question.question %></td>
                <% 6.times do |index| %>
                  <td>
                    <input class="form-check-input" type="radio" name="question[<%= question.id %>]" value="<%= index %>" />
                  </td>
                <% end %>
              </tr>
            <% end %>
            </tbody>
          </table>
        <% end %>

        <% section.survey_comment_sections.includes(:survey_comments).each do |comment_section| %>
          <div class="form-floating">
            <textarea class="form-control" name="comment_section[<%= comment_section.id %>]"
                      id="comment_section[<%= comment_section.id %>]"></textarea>
            <label for="comment_section[<%= comment_section.id %>]"><%= comment_section.label %></label>
          </div>
        <% end %>
      <% end %>
    </div>
  </section>
</main>
